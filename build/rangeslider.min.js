!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;((i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).webit||(i.webit={})).RangeSlider=t()}}(function(){return function o(h,r,u){function a(i,t){if(!r[i]){if(!h[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var n=r[i]={exports:{}};h[i][0].call(n.exports,function(t){return a(h[i][1][t]||t)},n,n.exports,o,h,r,u)}return r[i].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)a(u[t]);return a}({1:[function(t,i,e){var s,n;s=this,n=function(){function t(t){this.items=t}var e=0;t.prototype={first:function(){return 0<this.items.length&&this.items[0]},second:function(){return 1<this.items.length&&this.items[1]}};function i(t,i){return this.instanceId=e++,this.swipeEl=document.getElementsByTagName("body")[0],this.el=t,this.events=this.prepareEvents(["swipe","move","start","end","pinchstart","pinchend","pinchmove","touchend","touchmove","tap","doubletap"]),this.config(i),this.setTouchAction(this._config.direction),this.touches={},this.touchesCount=0,this.slopeFactor=1,this.startTouches=!1,this.firstMoveTouches=!1,this.currentTouches=!1,this.width,this.height,this.duration,this.moveDirection=null,this.swipeLogStackMaxLength=4,this.swipeLog={stack:[],duration:0,width:0,height:0},this.tapsLog={},this.waitForDoubleTap=!1,this.tapsLogExecuteTimeout=0,this.isTouchEvents=!1,this.isTouchedValidElement=!1,this.isMouseDown=void 0,this.handleEvents("add"),this}return i.prototype={prepareEvents:function(t){var i={};for(var e in t)i[t[e]]=[];return i},handleEvents:function(t){function i(t){n.registerTouches(t,!0),n.isTouchedValidElement=0<n.touchesCount,n.isTouchedValidElement&&n._start(t)}function e(t){n.isTouchedValidElement&&(n._end(t),n.isTouchedValidElement=!1),n.unregisterTouches(t),n.maybeFireTapping()}function s(t){n.registerTouches(t),n.isTouchedValidElement&&n._move(t)}var n=this,o="add"==t?"addEvent":"removeEvent";this[o](this.swipeEl,"touchstart",function(t){n.isTouchEvents=!0,i(t)}),this[o](this.swipeEl,"touchmove",function(t){s(t)},{passive:!1}),this[o](this.swipeEl,"touchend",function(t){e(t)}),this[o](this.swipeEl,"mousedown",function(t){n.isMainMouseButton(t)&&(n.isMouseDown=n.formatTouch(t),n.isTouchEvents||i(t))}),this[o](this.swipeEl,"mousemove",function(t){n.isTouchEvents||n.isMouseDown&&(!function(t,i){return t.x!=i.x||t.y!=i.y}(n.isMouseDown,n.formatTouch(t))||s(t))}),this[o](this.swipeEl,"mouseup",function(t){n.isTouchEvents||e(t),n.isMouseDown=void 0})},_start:function(t){this._config.alwaysPreventTouchStart&&this.preventEvent(t),this.startTouches=this.getTouches(),this.firstMoveTouches=!1,this.validMove=!1,this.moveDirection=null,this.swipeLog.stack=[],this.fire("start",[this.startTouches.first()]),this.maybeFirePinchStart()},_end:function(t){this.currentTouches=this.getTouches(),this.trackDuration(),this.trackSwipe();var i=this.formatMovement();i._swipeLog={duration:this.swipeLog.duration,width:this.swipeLog.width,height:this.swipeLog.height,stackLength:this.swipeLog.stack.lenght,isSwipe:!1},this.swipeLog.duration<80&&(7<this.swipeLog.width||7<this.swipeLog.height)&&(i._swipeLog.isSwipe=!0),i.isSwipe=i._swipeLog.isSwipe,this.startTouches=!1,this.firstMoveTouches=!1,this.validMove&&this.fire("end",[i]),this.fire("touchend",[i]),this.maybeFirePinchEnd()},_move:function(t){this.startTouches&&(this.maybePreventPinch(t),this.firstMoveTouches||(this.firstMoveTouches=this.getTouches()),this.currentTouches=this.getTouches(),this.clearTapLog(),this.trackDuration(),this.trackSwipe(),this.trackMovment(),this.fireTouchMove(),this.isValidMove()?(this.preventEvent(t),this.validMove=!0):this.validMove=!1,this.validMove&&this.fire("move",[this.formatMovement()]),this.maybeFirePinchMove())},maybeFireTapping:function(){clearTimeout(this.tapsLogExecuteTimeout),this.isEventsRegistered("doubletap")?this.maybeFireDoubleTap(this.getValidTapRegistered()):this.maybeFireSingleTap(this.getValidTapRegistered()),this.clearTapLog()},maybeFireDoubleTap:function(t){if(t){var i,e=this;this.waitForDoubleTap?(this.fire("doubletap",[t.touch]),this.waitForDoubleTap=!1):(this.waitForDoubleTap=!0,this.tapsLogExecuteTimeout=setTimeout((i=t.touch,function(){e.waitForDoubleTap=!1,e.fire("tap",[i])}),this._config.doubletapWaitTimeout))}},maybeFireSingleTap:function(t){t&&this.fire("tap",[t.touch])},maybePreventPinch:function(t){this._config.disablePinch&&2<=this.touchesCount&&t.preventDefault()},maybeFirePinchStart:function(){this.touchesCount<2||this.fire("pinchstart",[this.formatPinch(this.startTouches.first().x,this.startTouches.second().x,this.startTouches.first().y,this.startTouches.second().y)])},maybeFirePinchEnd:function(){this.touchesCount<2&&this.fire("pinchend",[])},maybeFirePinchMove:function(){this.touchesCount<2||this.fire("pinchmove",[{first:this.formatPinch(this.firstMoveTouches.first().x,this.firstMoveTouches.second().x,this.firstMoveTouches.first().y,this.firstMoveTouches.second().y),current:this.formatPinch(this.currentTouches.first().x,this.currentTouches.second().x,this.currentTouches.first().y,this.currentTouches.second().y)}])},formatPinch:function(t,i,e,s){return{x1:t,y1:e,x2:i,y2:s,width:Math.abs(t-i),height:Math.abs(e-s),distance:Math.sqrt(Math.pow(Math.abs(t-i),2)+Math.pow(Math.abs(e-s),2)),center:{x:this.calcMid(t,i),y:this.calcMid(e,s)}}},calcMid:function(t,i){return t<i?(i-t)/2+t:(t-i)/2+i},formatMovement:function(){return{direction:this.getFormattedDirection(),offset:this.offset,duration:this.duration,width:this.width,height:this.height,x:this.currentTouches.first().x,y:this.currentTouches.first().y,touchedElement:this.currentTouches.first().touchedElement,speed:this.width/this.duration,realDirection:this.direction}},getFormattedDirection:function(){return this.isDirection(this._config.direction,"horizontal")||this.isDirection(this._config.direction,"vertical")?this.getDirection():this.isDirection(this._config.direction,"horizontal")?this.getHorizontalDirection():this.isDirection(this._config.direction,"vertical")?this.getHorizontalDirection():void 0},isValidMove:function(){if(this.swipeLog.stack.length<2)return!1;if(0<this._config.direction.length&&(this.moveDirection||(this.moveDirection=this.getMoveDirection()),!this.isDirection(this._config.direction,this.moveDirection)))return!1;var t={minWidth:"width",minHeight:"height",minDuration:"duration"},i={maxWidth:"width",maxHeight:"height",maxDuration:"duration"};for(var e in t)if(this._config[e]&&this[t[e]]<this._config[e])return!1;for(var e in i)if(this._config[e]&&this[i[e]]>this._config[e])return!1;return!0},trackMovment:function(){this.offset={x:this.currentTouches.first().x-this.firstMoveTouches.first().x,y:this.currentTouches.first().y-this.firstMoveTouches.first().y},this.width=Math.abs(this.offset.x),this.height=Math.abs(this.offset.y),this.direction=this.getDirection()},trackDuration:function(){this.duration=this.currentTouches.first().t-this.startTouches.first().t},trackSwipe:function(){this.swipeLog.stack.push({x:this.currentTouches.first().x,y:this.currentTouches.first().y,duration:this.duration}),this.swipeLog.stack.length>this.swipeLogStackMaxLength&&this.swipeLog.stack.shift(),this.swipeLog.duration=this.swipeLog.stack[this.swipeLog.stack.length-1].duration-this.swipeLog.stack[0].duration,this.swipeLog.width=Math.abs(this.swipeLog.stack[this.swipeLog.stack.length-1].x-this.swipeLog.stack[0].x),this.swipeLog.height=Math.abs(this.swipeLog.stack[this.swipeLog.stack.length-1].y-this.swipeLog.stack[0].y)},getDirection:function(){return this.getVerticalDirection()?this.getVerticalDirection():this.getHorizontalDirection()?this.getHorizontalDirection():void 0},getHorizontalDirection:function(){return this.currentTouches.first().x>this.startTouches.first().x?"right":this.currentTouches.first().x<this.startTouches.first().x&&"left"},getVerticalDirection:function(){if(this.offset){var t=this.offset.y/this.offset.x;if(t>this.slopeFactor)return"up";if(t<-this.slopeFactor)return"down"}return!1},getMoveDirection:function(){return this.isHorizontalDirection()?"horizontal":this.isVerticalDirection()?"vertical":""},isHorizontalDirection:function(){return"left"==this.direction||"right"==this.direction},isVerticalDirection:function(){return"up"==this.direction||"down"==this.direction},handleTouchRegistered:function(t){this.touchesCount++,1==this.touchesCount&&this.registerTapLog(this.touches[t.identifier])},handleTouchUnregistered:function(t){this.touchesCount--,this.unregisterTapLog(t)},registerTouches:function(t,i){if(t.changedTouches)for(var e=0;e<t.changedTouches.length;e++)this.registerTouch(this.formatTouch(t.changedTouches[e]),this.eventTarget(t.changedTouches[e]),i);else this.registerTouch(this.formatTouch(t),this.eventTarget(t),i)},unregisterTouches:function(t){if(t.changedTouches)for(var i=0;i<t.changedTouches.length;i++)this.unregisterTouch(t.changedTouches[i].identifier);else this.unregisterTouch("_faketouch")},registerTouch:function(t,i,e){return!(e&&!this.isTheElement(i))&&(this.isTouchRegistered(t)?(this.touches[t.identifier]=t,this.touches[t.identifier].touchedElement=i,!1):(this.touches[t.identifier]=t,this.touches[t.identifier].touchedElement=i,void this.handleTouchRegistered(this.touches[t.identifier])))},unregisterTouch:function(t){void 0!==this.touches[t]&&(delete this.touches[t],this.handleTouchUnregistered(t))},isTouchRegistered:function(t){return void 0!==this.touches[t.identifier]},getTouches:function(){var i=this;return new t(this.map(this.touches,function(t){return i.clone(t)}))},formatTouch:function(t){return{identifier:void 0===t.identifier?"_faketouch":t.identifier,x:void 0===t.pageX?t.x:t.pageX,y:void 0===t.pageY?t.y:t.pageY,t:(new Date).getTime()}},registerTapLog:function(t){this.tapsLog[t.identifier]={touch:this.clone(t),startTime:(new Date).getTime(),endTime:void 0,duration:void 0,executed:!1}},unregisterTapLog:function(t){void 0!==this.tapsLog[t]&&this.registerTapEnd(this.tapsLog[t])},clearTapLog:function(){this.tapsLog={}},registerTapEnd:function(t){t.endTime||(t.endTime=(new Date).getTime(),t.duration=t.endTime-t.startTime)},getValidTapRegistered:function(){var i=!1,e=this;return this.each(this.tapsLog,function(t){e.validateTap(t)&&(i=t)}),i},validateTap:function(t){return!!(t.duration>this._config.tapMinDuration&&t.duration<this._config.tapMaxDuration&&this.isTheElement(t.touch.touchedElement))},fire:function(t,i){for(var e in this.events[t])this.events[t][e].apply(this,i)},fireTouchMove:function(){var t=this.formatMovement();(0<t.width||0<t.height)&&this.fire("touchmove",[t])},isTheElement:function(t){return t==this.el||this.isChild(t,this.el)},isChild:function(t,i){for(var e=t.parentNode;e;){if(e==i)return!0;e=e.parentNode}return!1},addEvent:function(t,i,e,s){s=void 0!==s&&s,t.attachEvent?(t["e"+i+e]=e,t[i+e]=function(){t["e"+i+e](window.event)},t.attachEvent("on"+i,t[i+e])):t.addEventListener(i,e,s)},removeEvent:function(t,i,e,s){s=void 0!==s&&s,t.detachEvent?(t.detachEvent("on"+i,t[i+e]),t[i+e]=null):t.removeEventListener(i,e,s)},preventEvent:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},eventTarget:function(t){var i;return t.target?i=t.target:t.srcElement&&(i=t.srcElement),3==i.nodeType&&(i=i.parentNode),i},on:function(t,i){return void 0!==this.events[t]&&this.events[t].push(i),this},isEventsRegistered:function(t){return void 0!==this.events[t]&&0<this.events[t].length},config:function(t){function s(t,i){switch(i){case"int":return parseInt(t,10);case"boolean":return!!t;default:return t}}function i(t,i){if(void 0===i.multiple&&(i.multiple=!1),i.multiple){t=t.split(" ");for(var e=0;e<t.length;e++)t[e]=s(t[e],i.type)}else t=s(t,i.type);return t}void 0===t&&(t={});var e={direction:{value:["horizontal","vertical"],type:"string",multiple:!0},minWidth:{value:!1,type:"int"},minHeight:{value:!1,type:"int"},minDuration:{value:!1,type:"int"},maxWidth:{value:!1,type:"int"},maxHeight:{value:!1,type:"int"},maxDuration:{value:!1,type:"int"},disablePinch:{value:!1,type:"boolean"},alwaysPreventTouchStart:{value:!1,type:"boolean"},doubletapWaitTimeout:{value:530,type:"int"},tapMaxDuration:{value:600,type:"int"},tapMinDuration:{value:5,type:"int"}};for(var n in this._config={},e)this._config[n]=void 0===t[n]?e[n].value:i(t[n],e[n])},setTouchAction:function(t){var i=[];this.isDirection(t,"vertical")&&i.push("pan-x"),this.isDirection(t,"horizontal")&&i.push("pan-y"),0<i.length?this.el.style.touchAction=i.join(" "):this.el.style.touchAction="none"},isDirection:function(t,i){for(var e=0;e<t.length;e++)if(t[e]==i)return!0;return!1},isMainMouseButton:function(t){return void 0!==t.which?1==t.which:void 0===ec.button||0==t.button},destroy:function(){this.handleEvents("remove"),this.events=[]},objProps:function(t){var i=[];for(var e in t)t.hasOwnProperty(e)&&i.push(e);return i},map:function(t,i){var e=[];for(var s in t)t.hasOwnProperty(s)&&e.push(i(t[s],t));return e},each:function(t,i){for(var e in t)t.hasOwnProperty(e)&&i(t[e],e)},clone:function(t){var i={};for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}},i},"object"==typeof e?i.exports=n():(void 0===s.webit&&(s.webit={}),s.webit.swipe=n())},{}],2:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,e){return t<=i?i:e<=t?e:t}},{}],3:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,e){var s=t.querySelector("."+i);return console.log(s),s||((s=document.createElement(e)).className=i,t.appendChild(s)),s}},{}],4:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var i=document.createElement("div");return function(t){t.style.display="block",t.style.position="absolute",t.style.left="0",t.style.width="100%",t.style.top="-20px",t.style.bottom="-20px",t.style.zIndex="2"}(i),t.appendChild(i),i}},{}],5:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var i=t.getBoundingClientRect(),e=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:i.top+s,left:i.left+e}}},{}],6:[function(t,i,e){"use strict";function h(t,i){return parseInt(t.getPropertyValue(i),10)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i){i=void 0!==i&&i;var e=getComputedStyle(t),s=0,n=0;if(i&&(s=h(e,"margin-left")+h(e,"margin-right"),n=h(e,"margin-top")+h(e,"margin-bottom")),void 0!==t.getBoundingClientRect){var o=t.getBoundingClientRect();if(void 0!==o.width&&void 0!==o.height)return{width:o.width+s,height:o.height+n,marginH:s,marginV:n}}return{width:t.offsetWidth+s,height:t.offsetHeight+n,marginH:s,marginV:n}}},{}],7:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,e){return i<=t&&t<=e}},{}],8:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(t("swipe")),n=c(t("./boundry")),o=c(t("./getElementOffset")),h=c(t("./getElementOuterDimensions")),r=c(t("./isBetween")),u=c(t("./createSwipeEl")),a=c(t("./createElIfNotExists"));function c(t){return t&&t.__esModule?t:{default:t}}function f(t,i){this.config={},void 0!==i&&(this.config=i),this.el=t,this.swipeEl=(0,u.default)(this.el),this.pinEl=(0,a.default)(this.el,"rangeslider__pin","div"),this.trackEl=(0,a.default)(this.el,"rangeslider__track","div"),this.trackFillEl=(0,a.default)(this.trackEl,"rangeslider__track-fill","div"),this.elOffset=void 0,this.elDimensions=void 0,this.pinDimensions=void 0,this.position={x:0,y:0},this.offset={x:0,y:0},this.min=0,this.max=1,this.value={x:0,y:0},this.swipe=this.createSwipe(this.swipeEl),this.safePadding=40,this.listeners={},this.wrt=0,this.resize(!0),this.setEvents(),this.calcValue()}f.prototype={createSwipe:function(t){return new s.default(t,{direction:"horizontal"})},setEvents:function(){var i=this;this.swipe.on("start",function(t){return i.handleStart(t)}),this.swipe.on("move",function(t){return i.handleMove(t)}),this.swipe.on("end",function(t){return i.handleEnd(t)}),this.swipe.on("tap",function(t){return i.handleTap(t)}),void 0!==this.config.handleWindowResize&&window.addEventListener("resize",function(t){return i.handleWindowResize()})},resize:function(t){this.elOffset=(0,o.default)(this.el),this.elDimensions=(0,h.default)(this.el),this.pinDimensions=(0,h.default)(this.pinEl),this.position.x=this.elDimensions.width*this.value.x,this.position.y=this.elDimensions.height*this.value.y,console.log("resize",this.position.x,this.elDimensions.width),this.offset.x=0,this.offset.y=0,this.vizualize(),t||(this.calcValue(),this.fire("move",[this.value.x,this.value]))},handleWindowResize:function(t){var i=this;console.log("handleWindowResize"),clearTimeout(this.wrt),this.wrt=setTimeout(function(){return i.resize()},60)},handleStart:function(t){console.log("handleStart",this.position.x,this.offset.x),this.position.x=this.boundryX(this.position.x+this.offset.x),this.position.y=this.boundryY(this.position.y+this.offset.y),this.offset.x=0,this.offset.y=0,this.isMove=this.validateMoveStartPosition(t.x,t.y)},handleEnd:function(t){this.isMove&&(this.position.x=this.boundryX(this.position.x+this.offset.x),this.position.y=this.boundryY(this.position.y+this.offset.y),this.offset.x=0,this.offset.y=0,this.isMove=!1)},handleMove:function(t){this.isMove&&(this.offset.x=t.offset.x,this.offset.y=t.offset.y,this.vizualize(),this.calcValue(),this.fire("move",[this.value.x,this.value]))},handleTap:function(t){this.position.x=this.boundryX(this.translateX(t.x)-this.pinDimensions.width/2),this.position.y=this.boundryY(this.translateY(t.y)-this.pinDimensions.height/2),this.offset.x=0,this.offset.y=0,this.isMove=!1,this.vizualize(),this.calcValue(),this.fire("move",[this.value.x,this.value])},validateMoveStartPosition:function(t,i){return console.log("YY validatestart",t),t=this.translateX(t),i=this.translateY(i),console.log("validatestart",t,this.position.x),console.log((0,r.default)(t,this.position.x-this.safePadding,this.position.x+this.pinDimensions.width+this.safePadding)),(0,r.default)(t,this.position.x-this.safePadding,this.position.x+this.pinDimensions.width+this.safePadding)&&(0,r.default)(i,this.position.y-this.safePadding,this.position.y+this.pinDimensions.height+this.safePadding)},translateX:function(t){return t-this.elOffset.left},translateY:function(t){return t-this.elOffset.top},boundryX:function(t){return(0,n.default)(t,0,this.elDimensions.width-this.pinDimensions.width)},boundryY:function(t){return(0,n.default)(t,0,this.elDimensions.height-this.pinDimensions.height)},vizualize:function(){this.setTransform(this.pinEl,this.boundryX(this.position.x+this.offset.x),0),this.trackFillEl.style.width=this.boundryX(this.position.x+this.offset.x)+"px"},setTransform:function(t,i,e){t.style.transform="translate("+i+"px,"+e+"px)"},calcValue:function(){this.value.x=this.boundryX(this.position.x+this.offset.x)/this.elDimensions.width,this.value.y=this.boundryY(this.position.y+this.offset.y)/this.elDimensions.height},on:function(t,i){void 0===this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push(i)},fire:function(t,i){if(void 0!==this.listeners[t])for(var e=0;e<this.listeners[t].length;e++)this.listeners[t][e].apply(this,i)}},e.default=f},{"./boundry":2,"./createElIfNotExists":3,"./createSwipeEl":4,"./getElementOffset":5,"./getElementOuterDimensions":6,"./isBetween":7,swipe:1}]},{},[8])(8)});